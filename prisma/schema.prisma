generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Roles {
  ADMIN
  MANAGER
  STAFF
  FACTORYOWNER
  CUSTOMER
}

model User {
  id            String    @id @default(uuid())
  email         String?   @unique @default("")
  password      String?   @default("")
  refreshToken  String?
  gender      Boolean   @default(false)
  dateOfBirth DateTime?
  imageUrl    String?   @default("")
  isActive    Boolean   @default(false)
  isDeleted   Boolean   @default(false)
  createdAt   DateTime  @default(now())
  createdBy   String?
  updatedAt   DateTime?
  updatedBy   String?
  deletedBy   String?
  deletedAt   DateTime?
  role        Roles

  addresses   Address[]

  @@map("Users")
}

model Address {
  id         String @id @default(uuid())
  provinceID Int
  districtID Int
  wardCode   String
  street     String
  userId     String

  user       User   @relation(fields: [userId], references: [id])

  @@map("Addresses")
}
